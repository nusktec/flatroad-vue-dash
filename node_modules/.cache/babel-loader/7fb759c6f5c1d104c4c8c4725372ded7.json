{"remainingRequest":"/Users/revelation/VueJS/WnC_Apps/wc_super/node_modules/babel-loader/lib/index.js!/Users/revelation/VueJS/WnC_Apps/wc_super/node_modules/eslint-loader/index.js??ref--13-0!/Users/revelation/VueJS/WnC_Apps/wc_super/src/router.js","dependencies":[{"path":"/Users/revelation/VueJS/WnC_Apps/wc_super/src/router.js","mtime":1564975094704},{"path":"/Users/revelation/VueJS/WnC_Apps/wc_super/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/revelation/VueJS/WnC_Apps/wc_super/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/revelation/VueJS/WnC_Apps/wc_super/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { CFG } from \"./ServerKeys\";\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport DashboardLayout from '@/layout/DashboardLayout';\nimport AuthLayout from '@/layout/AuthLayout';\nimport VueCookie from 'vue-cookie';\nVue.use(Router); //Start imports\n\nimport Login from \"./views/Login\"; //login screen\n\nvar Logout = {\n  template: '<p>Logging out, please wait...</p>'\n}; //login out model\n\nimport ForgotPw from \"./views/ForgotPw\";\nimport Dashboard from \"./views/Dashboard\"; //dashboard screen\n\nvar router = new Router({\n  mode: 'history',\n  linkExactActiveClass: 'active',\n  routes: [{\n    path: '/',\n    redirect: 'dashboard',\n    component: DashboardLayout,\n    children: [{\n      meta: {\n        auth: true\n      },\n      path: '/dashboard',\n      name: 'dashboard',\n      component: Dashboard\n    }]\n  }, //Login routers\n  {\n    path: '/',\n    redirect: 'login',\n    component: AuthLayout,\n    children: [{\n      path: '/login',\n      name: 'login',\n      component: Login,\n      beforeEnter: function beforeEnter(req, res, next) {//next to dashboard\n      }\n    }, {\n      path: '/logout',\n      name: 'logout',\n      component: Logout,\n      beforeEnter: function beforeEnter(req, res, next) {\n        //logout all\n        VueCookie.delete(CFG.COOKIE_NAME);\n        next({\n          name: 'login'\n        });\n      }\n    }, {\n      path: '/forgot-pw',\n      name: 'forgot-pw',\n      component: ForgotPw\n    }]\n  }]\n}); //middleware applied\n\nrouter.beforeEach(function (req, res, next) {\n  //you must login\n  if (req.meta.auth && !CHK_LGN) {\n    next({\n      name: 'login'\n    });\n  }\n\n  next();\n}); //global login check\n\nvar CHK_LGN = VueCookie.get(CFG.COOKIE_NAME);\nexport default router;",{"version":3,"sources":["/Users/revelation/VueJS/WnC_Apps/wc_super/src/router.js"],"names":["CFG","Vue","Router","DashboardLayout","AuthLayout","VueCookie","use","Login","Logout","template","ForgotPw","Dashboard","router","mode","linkExactActiveClass","routes","path","redirect","component","children","meta","auth","name","beforeEnter","req","res","next","delete","COOKIE_NAME","beforeEach","CHK_LGN","get"],"mappings":"AAAA,SAAQA,GAAR;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,MAAR,E,CAEA;;AACA,OAAOK,KAAP,sB,CAAmC;;AACnC,IAAMC,MAAM,GAAG;AAACC,EAAAA,QAAQ,EAAE;AAAX,CAAf,C,CAAiE;;AACjE,OAAOC,QAAP;AACA,OAAOC,SAAP,0B,CAA2C;;AAE3C,IAAMC,MAAM,GAAG,IAAIV,MAAJ,CAAW;AACtBW,EAAAA,IAAI,EAAE,SADgB;AAEtBC,EAAAA,oBAAoB,EAAE,QAFA;AAGtBC,EAAAA,MAAM,EAAE,CACJ;AACIC,IAAAA,IAAI,EAAE,GADV;AAEIC,IAAAA,QAAQ,EAAE,WAFd;AAGIC,IAAAA,SAAS,EAAEf,eAHf;AAIIgB,IAAAA,QAAQ,EAAE,CACN;AACIC,MAAAA,IAAI,EAAE;AAACC,QAAAA,IAAI,EAAE;AAAP,OADV;AAEIL,MAAAA,IAAI,EAAE,YAFV;AAGIM,MAAAA,IAAI,EAAE,WAHV;AAIIJ,MAAAA,SAAS,EAAEP;AAJf,KADM;AAJd,GADI,EAcJ;AACA;AACIK,IAAAA,IAAI,EAAE,GADV;AAEIC,IAAAA,QAAQ,EAAE,OAFd;AAGIC,IAAAA,SAAS,EAAEd,UAHf;AAIIe,IAAAA,QAAQ,EAAE,CACN;AACIH,MAAAA,IAAI,EAAE,QADV;AAEIM,MAAAA,IAAI,EAAE,OAFV;AAGIJ,MAAAA,SAAS,EAAEX,KAHf;AAIIgB,MAAAA,WAAW,EAAE,qBAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB,CAC7B;AAEH;AAPL,KADM,EAUN;AACIV,MAAAA,IAAI,EAAE,SADV;AAEIM,MAAAA,IAAI,EAAE,QAFV;AAGIJ,MAAAA,SAAS,EAAEV,MAHf;AAIIe,MAAAA,WAAW,EAAE,qBAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC7B;AACArB,QAAAA,SAAS,CAACsB,MAAV,CAAiB3B,GAAG,CAAC4B,WAArB;AACAF,QAAAA,IAAI,CAAC;AAACJ,UAAAA,IAAI,EAAE;AAAP,SAAD,CAAJ;AACH;AARL,KAVM,EAoBN;AACIN,MAAAA,IAAI,EAAE,YADV;AAEIM,MAAAA,IAAI,EAAE,WAFV;AAGIJ,MAAAA,SAAS,EAAER;AAHf,KApBM;AAJd,GAfI;AAHc,CAAX,CAAf,C,CAmDA;;AACAE,MAAM,CAACiB,UAAP,CAAkB,UAAUL,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACxC;AACA,MAAIF,GAAG,CAACJ,IAAJ,CAASC,IAAT,IAAiB,CAACS,OAAtB,EAA+B;AAC3BJ,IAAAA,IAAI,CAAC;AAACJ,MAAAA,IAAI,EAAE;AAAP,KAAD,CAAJ;AACH;;AACDI,EAAAA,IAAI;AACP,CAND,E,CAOA;;AACA,IAAMI,OAAO,GAAGzB,SAAS,CAAC0B,GAAV,CAAc/B,GAAG,CAAC4B,WAAlB,CAAhB;AACA,eAAehB,MAAf","sourcesContent":["import {CFG} from './ServerKeys';\nimport Vue from 'vue'\nimport Router from 'vue-router'\nimport DashboardLayout from '@/layout/DashboardLayout'\nimport AuthLayout from '@/layout/AuthLayout'\nimport VueCookie from 'vue-cookie';\n\nVue.use(Router);\n\n//Start imports\nimport Login from './views/Login'; //login screen\nconst Logout = {template: '<p>Logging out, please wait...</p>'}; //login out model\nimport ForgotPw from './views/ForgotPw';\nimport Dashboard from './views/Dashboard'; //dashboard screen\n\nconst router = new Router({\n    mode: 'history',\n    linkExactActiveClass: 'active',\n    routes: [\n        {\n            path: '/',\n            redirect: 'dashboard',\n            component: DashboardLayout,\n            children: [\n                {\n                    meta: {auth: true},\n                    path: '/dashboard',\n                    name: 'dashboard',\n                    component: Dashboard\n                },\n            ]\n        },\n        //Login routers\n        {\n            path: '/',\n            redirect: 'login',\n            component: AuthLayout,\n            children: [\n                {\n                    path: '/login',\n                    name: 'login',\n                    component: Login,\n                    beforeEnter: (req, res, next) => {\n                        //next to dashboard\n\n                    }\n                },\n                {\n                    path: '/logout',\n                    name: 'logout',\n                    component: Logout,\n                    beforeEnter: (req, res, next) => {\n                        //logout all\n                        VueCookie.delete(CFG.COOKIE_NAME);\n                        next({name: 'login'});\n                    }\n                },\n                {\n                    path: '/forgot-pw',\n                    name: 'forgot-pw',\n                    component: ForgotPw\n                },\n            ]\n        }\n    ]\n});\n//middleware applied\nrouter.beforeEach(function (req, res, next) {\n    //you must login\n    if (req.meta.auth && !CHK_LGN) {\n        next({name: 'login'});\n    }\n    next();\n});\n//global login check\nconst CHK_LGN = VueCookie.get(CFG.COOKIE_NAME);\nexport default router;\n"]}]}